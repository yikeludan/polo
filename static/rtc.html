<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    .none {
        -webkit-filter: none;
    }

    .blur {
        -webkit-filter: blur(3px);
    }

    .grayscale {
        -webkit-filter: grayscale(1);
    }

    .invert {
        -webkit-filter: invert(1);
    }

    .sepia {
        -webkit-filter: sepia(1);
    }

</style>
<body>
<div>
    <label>Filter:</label>
    <select id="filter">
        <option value="none">None</option>
        <option value="blur">blur</option>
        <option value="grayscale">Grayscale</option>
        <option value="invert">Invert</option>
        <option value="sepia">sepia</option>
    </select>
</div>
<video autoplay playsinline id="player" ></video>
</body>
</html>

<script src="adapter-latest.js"></script>
<script>
   var filtersSelect = document.querySelector('select#filter');
   filtersSelect.onchange = function(){
       video.className = filtersSelect.value;
   }
   var video = document.getElementById('player');


   function start(){
    if(!navigator.mediaDevices ||
        !navigator.mediaDevices.enumerateDevices){
        console.log('enumerateDevices is not supported!');
    }else {

        var pt = {
            video: {
                width:300,
                height:500
            },
            audio: {
                noiseSuppression:true,//降噪
                echoCancellation:true//回音 消除
            }

        }
        navigator.mediaDevices.getUserMedia(pt).then(getMedia).catch(handleError);

    }
   }
    function getMedia(stream) {
        video.srcObject = stream;
    }

    function gotDevices(deviceInfos){
        deviceInfos.forEach( function(deviceInfo){
            console.log(deviceInfo.kind + ": label = "
                + deviceInfo.label + ": id = "
                + deviceInfo.deviceId + ": groupId = "
                + deviceInfo.groupId);
        });

    }

    function handleError(err){
        console.log(err.name + " : " + err.message);
    }

    start();

</script>