<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<video autoplay playsinline id="player" ></video>
</body>
</html>
<script src="adapter-latest.js"></script>
<script>
   // navigator.mediaDevices.getUserMedia({audio: true, video: true});
   var video = document.getElementById('player');
    if(!navigator.mediaDevices ||
        !navigator.mediaDevices.enumerateDevices){
        console.log('enumerateDevices is not supported!');
    }else {
      /*  navigator.mediaDevices.enumerateDevices()
            .then(gotDevices)
            .catch(handleError);*/
        var pt = {
            video: {
                width:300,
                height:500
            },
            audio: {
                noiseSuppression:true,//降噪
                echoCancellation:true//回音 消除
            }

        }
        navigator.mediaDevices.getUserMedia(pt).then(getMedia).catch(handleError);

    }
    function getMedia(stream) {
        video.srcObject = stream;
    }

    function gotDevices(deviceInfos){
        deviceInfos.forEach( function(deviceInfo){
            console.log(deviceInfo.kind + ": label = "
                + deviceInfo.label + ": id = "
                + deviceInfo.deviceId + ": groupId = "
                + deviceInfo.groupId);
        });

    }

    function handleError(err){
        console.log(err.name + " : " + err.message);
    }

</script>